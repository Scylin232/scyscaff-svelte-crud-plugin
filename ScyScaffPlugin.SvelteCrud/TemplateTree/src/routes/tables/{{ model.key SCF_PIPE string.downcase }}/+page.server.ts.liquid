import { PRIVATE_{{ model_entity_name | string.upcase }}_SERVICE_PORT } from '$env/static/private';
import { tableLoad } from '$lib/tableLoad';
import { tableRequest } from '$lib/tableRequest';

const serviceName = "{{ model_entity_name | string.downcase }}-service";
const servicePort = PRIVATE_{{ model_entity_name | string.upcase }}_SERVICE_PORT;
const modelName = "{{ model.key }}";

export async function load({ fetch, url }) {
	return await tableLoad(fetch, url, serviceName, servicePort, modelName);
}

export const actions = {
	default: async (event) => await tableRequest(event, serviceName, servicePort, modelName),
}